package com.knightonline.shared.network.common;

import java.util.concurrent.BlockingQueue;
import java.util.concurrent.ExecutorService;
import java.util.concurrent.LinkedBlockingQueue;

/**
 * @author Mamaorha
 *
 */
public abstract class PacketHandler implements Runnable
{
	protected BlockingQueue<Packet> requestQueue;
	protected ExecutorService threadExecutors;
	
	public PacketHandler()
	{
		this.requestQueue = new LinkedBlockingQueue<Packet>();
	}
	
	public void addWork(Packet packet) throws InterruptedException
	{
		requestQueue.put(packet);
	}
	
	protected abstract void handlePacket(Packet requestPacket) throws InterruptedException;
	
	@Override
	public void run()
	{
		Packet requestPacket = requestQueue.take();
		handlePacket(requestPacket);
		
	}
}
